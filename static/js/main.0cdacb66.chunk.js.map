{"version":3,"sources":["components/MenuNavbar.js","components/Note.js","components/ProductLine.js","components/Category.js","services/firestore.js","services/firestoreProducts.js","contexts/messageContext.js","contexts/menuDataContext.js","components/MenuCard.js","App.js","reportWebVitals.js","index.js"],"names":["MenuNavbar","Navbar","fixed","bg","variant","Brand","className","style","height","Note","props","note","ProductSize","size","ProductLine","product","Row","Col","name","xs","md","price","Category","category","useState","isOpen","setIsOpen","lg","Card","Header","onClick","Collapse","in","Body","products","map","p","firebaseConfig","apiKey","process","authDomain","projectId","console","log","firebase","apps","length","initializeApp","firestoreDatabase","firestore","COLLECTION_PRODUCTS","getProductsFromDb","a","collection","orderBy","get","result","empty","data","docs","doc","id","Set","c","filter","MessageContext","createContext","MessageProvider","message","setMessage","api","useMemo","Provider","value","children","MenuDataContext","MenuDataProvider","menuData","setMenuData","useContext","flatMenuData","concat","findProduct","useCallback","productName","find","loadMenu","menuDataFromDb","useEffect","MenuCard","ProvidedApp","Container","fluid","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0cdacb66.chunk.js","sourcesContent":["import {Navbar} from \"react-bootstrap\";\r\n\r\nexport function MenuNavbar() {\r\n    return <>\r\n        <Navbar fixed=\"top\" bg=\"dark\" variant=\"dark\">\r\n            <Navbar.Brand className=\"p-2\">Ons cafe</Navbar.Brand>\r\n        </Navbar>\r\n        <div style={{height: \"3em\"}}/>\r\n    </>\r\n}","export function Note(props) {\r\n    const {note} = props;\r\n    if (!note) return null;\r\n    return <div className=\"note\">{note}</div>\r\n}\r\n","import {Note} from \"./Note\";\r\nimport {Col, Row} from \"react-bootstrap\";\r\n\r\nfunction ProductSize(props) {\r\n    const {size} = props;\r\n    if (!size) return null;\r\n    return <span className=\"productSize\"> - {size}cl</span>\r\n}\r\n\r\nexport function ProductLine(props) {\r\n    const {product} = props;\r\n    return <>\r\n        <Row>\r\n            <Col>{product.name}<ProductSize product={product.size}/></Col>\r\n            <Col xs={3} md={4} className=\"text-end\">\r\n                {product.price}&euro;\r\n            </Col>\r\n        </Row>\r\n        <Row>\r\n            <Col><Note note={product.note}/></Col>\r\n        </Row>\r\n    </>;\r\n}","import {ProductLine} from \"./ProductLine\";\r\nimport {Note} from \"./Note\";\r\nimport {Card, Col, Collapse} from \"react-bootstrap\";\r\nimport {useState} from \"react\";\r\n\r\nexport function Category(props) {\r\n    const {category} = props;\r\n    const [ isOpen, setIsOpen ] = useState(true);\r\n\r\n    return <Col xs={12} md={6} lg={4} className=\"p-0 p-md-1\">\r\n        <Card className=\"mt-2 h-100\">\r\n            <Card.Header className=\"bg-dark text-white\" onClick={() => setIsOpen(!isOpen)}>\r\n                <h2>{category.name}</h2>\r\n            </Card.Header>\r\n            <Collapse in={isOpen}>\r\n                <Card.Body>\r\n                    <Note note={category.note} />\r\n                    {category.products.map(p => <ProductLine product={p} key={p.name} />)}\r\n                </Card.Body>\r\n            </Collapse>\r\n            </Card>\r\n    </Col>\r\n}","import firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/firestore\";\r\n\r\n// this is executed when this file is imported\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID\r\n};\r\nconsole.log({firebaseConfig});\r\n\r\n// if already initialized, use that one\r\nif (!firebase.apps.length) firebase.initializeApp(firebaseConfig);\r\nexport const firestoreDatabase = firebaseConfig.projectId && firebase.firestore();\r\nif (firestoreDatabase)\r\n    console.log(`connection to database is ok`);\r\nelse\r\n    console.log(`ERROR: no connection to database`);","import \"firebase/compat/firestore\";\r\nimport {firestoreDatabase} from \"./firestore\";\r\n\r\nconst COLLECTION_PRODUCTS = \"products\";\r\n\r\nexport async function getProductsFromDb() {\r\n    if (!firestoreDatabase) return [];\r\n\r\n    //const result = await firestoreDatabase.collection(COLLECTION_PRODUCTS).get();\r\n    const result = await firestoreDatabase.collection(COLLECTION_PRODUCTS)\r\n        .orderBy(\"category\", \"asc\")\r\n        .orderBy(\"sequence\", \"asc\")\r\n        .get();\r\n    if (result.empty) return [];\r\n\r\n    const data = result.docs.map(doc => ({...doc.data(), id: doc.id}));\r\n    return [...new Set(data.map(p => p.category))].map(c => ({ name: c, products: data.filter(p => p.category===c) }));\r\n}","import React, {createContext, useContext, useMemo, useState} from 'react';\r\n\r\nconst MessageContext = createContext();\r\n\r\nexport function MessageProvider(props) {\r\n    const [message, setMessage] = useState(\"\");\r\n    console.log({message});\r\n\r\n    const api = useMemo(() => ({\r\n        message, setMessage\r\n    }), [\r\n        message, setMessage\r\n    ]);\r\n\r\n    return <MessageContext.Provider value={api}>\r\n        {props.children}\r\n    </MessageContext.Provider>\r\n}\r\n\r\nexport const useMessageContext = () => useContext(MessageContext);","import React, {createContext, useCallback, useContext, useEffect, useMemo, useState} from 'react';\r\nimport {getProductsFromDb} from \"../services/firestoreProducts\";\r\nimport {useMessageContext} from \"./messageContext\";\r\n\r\nconst MenuDataContext = createContext();\r\n\r\nexport function MenuDataProvider(props) {\r\n    const [menuData, setMenuData] = useState([]);\r\n    const {setMessage} = useMessageContext();\r\n\r\n    const flatMenuData = useMemo(() => [].concat(...menuData.map(c => c.products)), [ menuData ]);\r\n\r\n    const findProduct = useCallback(\r\n        (productName) => flatMenuData.find(p => p.name===productName),\r\n        [flatMenuData]\r\n    );\r\n\r\n    const loadMenu = useCallback(async function () {\r\n        setMessage(\"loading\");\r\n        const menuDataFromDb = await getProductsFromDb();\r\n        setMenuData(menuDataFromDb);\r\n        setMessage(menuDataFromDb.length ? \"\" : \"error : network connection problem\");\r\n    }, [setMessage, setMenuData]);\r\n\r\n    useEffect(() => {\r\n        loadMenu();\r\n    }, [loadMenu]);\r\n\r\n    const api = useMemo(() => ({ menuData, setMenuData, findProduct }), [menuData, setMenuData, findProduct]);\r\n\r\n    return <MenuDataContext.Provider value={api}>\r\n        {props.children}\r\n    </MenuDataContext.Provider>\r\n}\r\n\r\nexport const useMenuDataContext = () => useContext(MenuDataContext);","import {Row} from \"react-bootstrap\";\r\nimport {Category} from \"./Category\";\r\nimport {useMenuDataContext} from \"../contexts/menuDataContext\";\r\n\r\nexport function MenuCard() {\r\n    const {menuData} = useMenuDataContext();\r\n\r\n    return <>\r\n        <Row className=\"m-0 mt-4 menu-h1\"><h1> Menu</h1></Row>\r\n        <Row className=\"m-0\">\r\n            {menuData.map(c => <Category category={c} key={c.name} />)}\r\n        </Row>\r\n    </>\r\n}","import 'normalize.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './App.css';\r\nimport {Container} from \"react-bootstrap\";\r\nimport {MenuNavbar} from \"./components/MenuNavbar\";\r\nimport {MenuCard} from \"./components/MenuCard\";\r\nimport {MenuDataProvider} from \"./contexts/menuDataContext\";\r\nimport React from \"react\";\r\nimport {MessageProvider} from \"./contexts/messageContext\";\r\n\r\nfunction ProvidedApp() {\r\n    return <>\r\n        <Container fluid className=\"p-0 p-md-3 p-lg-5\">\r\n            <MenuNavbar/>\r\n            <MenuCard/>\r\n        </Container>\r\n    </>\r\n}\r\n\r\nfunction App() {\r\n    return <MessageProvider>\r\n        <MenuDataProvider>\r\n            <ProvidedApp/>\r\n        </MenuDataProvider>\r\n    </MessageProvider>\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}